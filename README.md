#                             traffic_twin

项目是在中电软件园仿真场景实现交通数字孪生，首先根据脚本获取车辆运行航点，包括在Carla中的x，y以及时间戳。然后使用相应的控制算法对车辆进行控制，使得车辆按预先生成的轨迹行驶到达目的地。

#### 轨迹平滑

这里用到的轨迹平滑算法的核心思想是通过在原始路径点之间插入额外的点来平滑车辆的轨迹。当相邻路径点之间的距离大于设定的最小距离阈值时，计算它们之间的插值点，并将这些点添加到平滑后的路径中。这种插值方法生成的路径点更密集和连续，使得车辆的轨迹更加平滑和自然，适合用于需要精确路径跟踪的场景。

#### 控制

**PID控制**：由三个主要部分组成：比例控制（P）、积分控制（I）和微分控制（D）。每个部分都有特定的作用，能够对系统的不同方面进行调节。

**输入**：轨迹数据（包括期望的车辆轨迹、当前车辆状态）、环境信息（如道路状况、障碍物信息）以及系统的控制策略。

**输出**：具体的控制命令，如加速、减速、转向指令等，发送给车辆的执行器（如发动机、刹车系统、方向盘等）。

#### 使用

**1.使用中电软件园Carla环境，然后创建Python 3.8的虚拟环境。**

```
pip install -r requirements.txt
pip install matplotlib==2.2.2
```

**2. 导航至 CARLA 可执行程序目录，比如：**

```
> cd C:/CARLA
```

**3. 打开CARLA仿真器**

```
CarlaUE4.exe 
```

**4. 运行脚本，选择合适的控制器**

```
> python Drive.py --Longitudinal-Controller: {PID, ALC} --Lateral-Controller: {BangBang, PID, PurePursuit, Stanley, POP}
```

这里推荐使用默认的PID控制器，不添加参数运行脚本！